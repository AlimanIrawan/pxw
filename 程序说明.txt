Detik新闻爬虫程序说明

程序概述：
这是一个专门用于爬取印尼Detik新闻网站（https://news.detik.com）的新闻爬虫程序，具有图形用户界面和命令行两种使用方式。

主要功能：
1. 新闻爬取：从Detik新闻网站爬取指定日期的新闻数据
2. GUI界面：提供图形用户界面，方便用户操作
3. 多格式输出：支持txt、json、csv三种输出格式
4. 日期选择：可以爬取指定日期的新闻（昨天、前天、今天等）
5. 实时日志显示：GUI界面实时显示爬取进度和详细信息
6. 自动问题诊断：程序会自动检测并尝试解决常见问题
7. 超时保护：防止程序无限期卡住，自动检测异常情况

技术特点：
- 自动化爬取：使用Selenium WebDriver进行网页自动化
- 智能解析：使用BeautifulSoup解析HTML内容
- 日志系统：完整的日志记录功能，支持实时显示
- 错误处理：完善的异常处理和重试机制
- 虚拟环境：在独立虚拟环境中运行

程序结构：
- main.py - 主程序入口
- detik_crawler.py - 核心爬虫模块
- gui.py - 图形用户界面
- config.py - 配置管理
- data_processor.py - 数据处理
- logger.py - 日志系统
- 启动GUI.sh - GUI启动脚本
- 启动爬虫.sh - 命令行启动脚本

使用方式：

1. GUI模式（推荐）：
   - 双击"启动GUI.sh"脚本
   - 选择目标日期
   - 选择输出格式
   - 点击"开始爬取"
   - 在运行日志区域查看实时进度

2. 命令行模式：
   - 双击"启动爬虫.sh"脚本
   - 按提示输入日期和格式
   - 查看终端输出的进度信息

环境要求：
- macOS系统
- Python 3.13+
- Chrome浏览器
- tkinter支持（已自动安装）

安装说明：
1. 程序会自动创建虚拟环境
2. 自动安装所需依赖包
3. 自动检测并安装tkinter支持

注意事项：
- 首次运行可能需要下载ChromeDriver
- 爬取速度受网络状况影响
- 建议在稳定的网络环境下使用
- 程序会自动处理反爬虫机制

输出文件：
- 爬取的新闻数据保存在output目录
- 日志文件保存在logs目录
- 文件名格式：detik_news_YYYY-MM-DD.txt

故障排除：
1. 如果GUI无法启动，请检查tkinter是否安装
2. 如果爬取失败，请检查网络连接
3. 如果ChromeDriver权限问题，启动脚本会自动修复
4. 如果仍有ChromeDriver问题，请检查系统安全设置
5. 程序会自动检测并尝试解决常见问题：
   - 网络连接异常
   - ChromeDriver权限问题
   - 网站访问问题
   - 爬取超时问题
6. 查看logs目录下的日志文件获取详细错误信息

更新日志：
- 2025-08-12: 修复GUI日志显示问题，添加实时进度显示
- 2025-08-12: 优化虚拟环境管理
- 2025-08-12: 改进错误处理和日志记录
- 2025-08-12: 修复ChromeDriver权限问题，添加自动权限修复
- 2025-08-12: 简化视频新闻输出格式
- 2025-08-12: 添加自动问题诊断和超时保护功能
- 2025-08-12: 增强ChromeDriver错误处理，解决状态码-9问题
